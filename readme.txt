=== emObA - Email Obfuscator Advanced ===
Author: Kim Kirkpatrick
Contributors:  kirkpatrick
Donate link: http://kirknet.org/wpplugins/
Tags: spam, email, mail, address, addresses, hide, JavaScript
Requires at least: 2.3
Tested up to: 2.8.6
Stable tag: 1.2
Version: 1.2

== Description ==

This plugin effectively and automatically makes it very difficult for spambots to harvest email addresses from your WordPress-powered blog. Email addresses may be placed in posts, comments, and pages, plain, as html links, or in a special "easy email" form, and they are automatically protected by emObA. All email addresses appearing on your blog will appear on the screen as active links to normal, valid, and correct email addresses (the actual email is seen in the status bar when hovering), but to spambots they will have no recognizable features.  


It recognizes, and produces obfuscated active (click-to-send) email links for, 

 * standard email links (`<a href="mailto:you@example.com">Name</a>`) 

 * the special "easy to write" form  `[Name] you@example.com`

 * a bare email address `you@example.com` (with or without "mailto:" in front of it) 

These will appear as standard email links displaying "Name". A bare email will appear as a link `you-example-com` (punctuated with hyphens in place of @ and .), since there is no Name.
 
This is accomplished with a combination of WordPress filter hooks and JavaScript. If the browser is JavaScript-enabled, visitors to the site will see active email address links. If JavaScript is not enabled, hovering over the "link" will bring up a popup showing the email in human-readable form, eg `you [@] example [.] com`.  The [@] and [.] are  graphic images, not text, so the parts of the address are separated by lengthy runs of html (`<img ... />`).

The email addresses occur in the HTML source only in a well-hidden encoding.  The email address is converted to hexadecimal and appears only as the value of a JavaScript variable.  That encoded email is separated in the JavaScript from the telltale `mailto:` to further confuse spambots.  The no-JavaScript popup address is encoded in the JavaScript with graphics representing `@` and `.`, so even a fairly smart spambot will not be led easily to the address.


== Installation ==

1. Place the folder contained in the zip file into your wp-content/plugins directory.   

2. From your wp-admin screen, activate the plugin Email Obfuscator Advanced.    


== Changelog ==

  
Ver 1.2  2009/11/19  Fixed repeat email bug: correctly treats identical repeat emails (of all types).  Now converts emails placed in text widgets (requires 2.3).  Fixed problem with multiple spaces in the special form  [name]   a@b.cc .  
Ver 1.1  2009/11/18  Fixed problem with operation in comments - raised priority of filter so emails don't remain for default comment_text filters to act on.    
Ver 1.0  2009/11/16    


== Acknowledgements ==

This is a major modification of Email Obfuscator by Billy Halsey. That plugin seems to be abandoned.


== Frequently Asked Questions ==

1. The name?  obfuscate = obscurate = obnubilate < obliterate

1. What about styling and appearance?

 The following classes are used; they are defined in emoba_style.css.  You can add appearance styling, but the display: attributes must be left as shown in order that the hover popups work:
 
 `
	.emoba-pop { }
	.emoba-pop span { display: none; } 
	.emoba-pop:hover span {	display: inline; }
	.emoba-glyph { }
	.emoba-em { }

 `

1. What does the constant CLICKPOP (defined at line 37 of emoba.php) do?

  When CLICKPOP is defined true, hovering over "Name" changes the link to "Click to email Name".

1. How can I deal with emails in static files (header, footer, sidebar, etc)?

  Simplest way: Put the email in a page; look at source from browser, and copy the resulting html source of that email (`<span id=emoba-nnnn">...</span>`, as shown next, and also the `<script>...</script>` below it) to the template.  (But emObA works in text widgets directly.)
 
1. What is the static html created for the email "Name" `<A@B.C>`?

  `
	<span id="emoba-nnnn">
		<span class="emoba-pop">
			Name 
			<span>
				<span class="emoba-em">
					A
				</span>
				<span class="emoba-symbol">
					<img src="http://.../at-glyph.gif" class="emoba-glyph" alt="at" height="8" />
				</span>
				<span class="emoba-em">
					B
				</span>
				<span class="emoba-symbol">
					<img src="http://.../dot-glyph.gif" class="emoba-glyph" alt="dot" height="9" />
				</span>
				<span class="emoba-em">
					C
				</span>
			</span>
		</span>
	</span>
  `

1. What is the HTML generated by the JavaScript?  

  With [hexified] the email A@B.C converted to %-hex characters:

  If CLICKPOP is false, 
  `
	<a href="mailto:[hexified]" class="emoba-pop" title="Send email" >
		Name
	</a>
  `
  If CLICKPOP is true, 
  `
	<a href="mailto:[hexified]" class="emoba-pop" title="Send email" >
		<span class="emoba-pop">
			Click to email
		</span>
		Name
	</a>
  `